# FingerBot Environment Configuration Template
# 
# 🔒 安全提示:
# 1. 复制此文件为 .env.docker
# 2. 填入真实的API密钥和敏感信息
# 3. 确保 .env* 文件已在 .gitignore 中忽略
# 4. 切勿将包含真实密钥的配置文件提交到版本控制
#
# 复制命令: cp .env.example .env.docker

# 基础配置
NODE_ENV=development
PORT=8080
LOG_LEVEL=debug

# Google Gemini API 配置 (必需 - 从 Google AI Studio 获取)
# 支持多个API Key，用逗号分隔以实现负载均衡和容错
GEMINI_API_KEY=your-primary-api-key-here,your-backup-key-1,your-backup-key-2
GEMINI_MODEL=gemini-2.5-flash

# 基础功能配置
MAX_TOKENS=2000
TEMPERATURE=0.3

# 安全配置 (建议生成随机字符串)
WEBHOOK_SECRET=your-secure-webhook-secret-here

# 可选: 如果需要内存存储
MEMORY_LIMIT=1000

# WebSocket 服务配置
WS_SERVER_PATH=/ws

# 群聊白名单配置 - 用逗号分隔群号，留空表示不限制
GROUP_WHITELIST=123456789,987654321

# 管理员配置 (用于接收错误通知的QQ号)
ADMIN_USER_ID=your-admin-qq-number

# 机器人QQ号配置（可选，用于精确匹配@机器人）
BOT_QQ_ID=your-bot-qq-number

# 消息队列配置 (新功能 - 批量处理优化)
ENABLE_MESSAGE_QUEUE=true         # 启用队列模式，减少API调用，优化上下文
QUEUE_SILENCE_SECONDS=8           # 静默8秒后处理队列
QUEUE_MAX_SIZE=10                 # 队列最大10条消息
QUEUE_MAX_AGE_SECONDS=30          # 队列最长存在30秒

# 机器人名称配置 (用于高优先级消息检测)
BOT_NAME=智能指尖

# Redis配置 (可选)
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password-if-needed

# 体力管理配置 ⭐
# 基于惯性疲劳模型，控制机器人回复频率
STAMINA_MAX_STAMINA=100                   # 最大体力值 (默认: 100)
STAMINA_REPLY_COST=5                      # 每批消息平均消耗（参考值，实际使用惯性模型，默认: 5）
STAMINA_REGEN_RATE=0.33                   # 体力恢复速率（点/秒），默认: 0.33 = 每分钟20点
STAMINA_REGEN_INTERVAL=1000               # 体力更新间隔（毫秒），默认: 1000 = 1秒
STAMINA_LOW_THRESHOLD=30                  # 低体力阈值，低于此值降低回复频率 (默认: 30)
STAMINA_CRITICAL_THRESHOLD=10             # 极低体力阈值，低于此值几乎不回复 (默认: 10)
STAMINA_REST_MODE=false                   # 休息模式，暂停体力消耗 (默认: false)

# 健康检查配置
HEALTH_CHECK_INTERVAL=30
