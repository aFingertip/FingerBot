# 日志搜索和过滤功能

## ✨ 新增功能

刚刚为 FingerBot 的 WebUI 添加了强大的日志搜索和过滤功能！

### 🔍 核心功能

#### 1. **智能搜索**
- **文本搜索**: 在日志内容中搜索关键词
- **正则表达式**: 支持高级正则表达式搜索
- **实时搜索**: 300ms防抖，输入即搜索
- **搜索高亮**: 自动高亮匹配的关键词

#### 2. **多维度过滤**
- **日志级别**: 按 info、warn、error、debug 筛选
- **时间范围**: 指定开始和结束时间
- **组合筛选**: 支持多条件组合筛选

#### 3. **快速筛选**
- **错误日志**: 一键查看所有错误
- **警告日志**: 快速定位警告信息
- **最近1小时**: 查看近期日志
- **API调用**: 筛选API相关日志

#### 4. **统计信息**
- **实时统计**: 显示总数和筛选结果数量
- **级别统计**: 按日志级别统计数量
- **筛选状态**: 清晰显示当前筛选条件

#### 5. **保存和导出**
- **保存筛选**: 保存常用的筛选条件
- **导出筛选**: 导出筛选结果为TXT、JSON、CSV
- **本地存储**: 筛选条件自动保存到浏览器

## 🎨 界面优化

### 搜索界面
- **现代化设计**: GitHub Dark主题风格
- **响应式布局**: 完美适配手机和桌面
- **直观操作**: 清晰的按钮和状态指示

### 高级筛选
- **可折叠设计**: 高级选项按需展开
- **智能表单**: 自动验证和错误提示
- **快捷操作**: 一键清空所有筛选

## 🚀 使用方法

### 基础搜索
1. 在搜索框中输入关键词
2. 自动显示匹配结果并高亮关键词
3. 点击 "✕" 清空搜索

### 高级筛选
1. 点击 "高级筛选 ▼" 展开选项
2. 选择日志级别、时间范围等
3. 勾选"正则表达式"启用正则搜索
4. 点击"保存筛选条件"保存当前设置

### 快速操作
- **快速筛选**: 点击预设的快速筛选按钮
- **导出结果**: 点击"导出筛选结果"下载筛选后的日志
- **查看统计**: 右侧显示各级别日志统计数量

## 🛠️ 技术实现

### 核心组件
- `LogSearch.vue`: 搜索和筛选界面组件
- `useLogFilter.ts`: 日志过滤逻辑组合函数
- `LogViewer.vue`: 集成搜索功能的日志查看器

### 关键特性
- **Vue 3 Composition API**: 现代化的组件架构
- **TypeScript**: 完整的类型安全支持
- **响应式数据**: 自动更新筛选结果
- **性能优化**: 防抖搜索，避免频繁计算

### 数据流
```
用户输入 → LogSearch组件 → useLogFilter → 筛选逻辑 → LogViewer组件 → 显示结果
```

## 📊 功能对比

| 功能 | 之前 | 现在 |
|------|------|------|
| 搜索 | ❌ 无 | ✅ 智能搜索 + 正则表达式 |
| 筛选 | ❌ 无 | ✅ 多维度筛选 |
| 统计 | ❌ 无 | ✅ 实时统计 |
| 导出 | ✅ 基础导出 | ✅ 筛选结果导出 |
| 保存 | ❌ 无 | ✅ 筛选条件保存 |
| 响应式 | ❌ 部分 | ✅ 完全响应式 |

## 🎯 使用场景

### 开发调试
- 搜索特定错误信息
- 筛选API调用日志
- 查看最近的错误和警告

### 运维监控
- 监控错误日志趋势
- 筛选特定时间段的日志
- 导出关键日志进行分析

### 问题排查
- 使用正则表达式查找模式
- 组合多个条件精确定位
- 导出相关日志给技术支持

## 🔧 扩展可能

未来可以考虑添加：
- **日志聚合**: 相似日志自动分组
- **智能建议**: 根据搜索历史提供建议
- **实时筛选**: WebSocket实时更新筛选结果
- **更多导出格式**: 支持XML、Excel等格式
- **筛选模板**: 预设更多常用筛选模板

---

**🎉 立即体验新功能！**

启动应用后访问 `http://localhost:8080`，在"系统日志"标签页中体验全新的搜索和过滤功能。